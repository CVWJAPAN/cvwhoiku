<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>キラキラ☆デジタル保育園</title>
    <style>
        body { margin: 0; font-family: Comic Sans MS, Arial; background: linear-gradient(#f0f8ff, #e6e6fa); text-align: center; }
        h1 { color: #ff69b4; text-shadow: 2px 2px #fff; margin: 20px; font-size: 36px; }
        canvas { border: 3px solid #ffd700; border-radius: 15px; background: #e0ffff; display: block; margin: 0 auto; }
        #advice { margin: 15px; padding: 15px; font-size: 20px; color: #ff4500; background: #fffacd; border-radius: 10px; max-width: 600px; margin: 15px auto; }
        #inputBox { margin: 10px; padding: 10px; width: 300px; font-size: 16px; border: 2px solid #ff69b4; border-radius: 5px; }
        #askButton { padding: 10px 20px; font-size: 16px; background: #ff69b4; color: white; border: none; border-radius: 5px; cursor: pointer; }
        #askButton:hover { background: #ff1493; }
        #effect { position: absolute; font-size: 40px; color: #ffd700; text-shadow: 1px 1px #000; pointer-events: none; }
        #guide { font-size: 16px; color: #4682b4; margin: 10px; }
        @media (max-width: 600px) { canvas { width: 100%; height: auto; } #inputBox { width: 80%; } }
    </style>
</head>
<body>
    <h1>キラキラ☆デジタル保育園</h1>
    <div id="guide">WASDで移動、赤い保育士さんに近づいてアドバイス！質問も入力OK！</div>
    <canvas id="nursery" width="600" height="400"></canvas>
    <input id="inputBox" type="text" placeholder="例：お昼寝しない、どうする？">
    <button id="askButton" onclick="showAdvice()">質問する！</button>
    <div id="advice">ピョンピョン保育士さん（赤）に近づいてアドバイスGET！✨</div>
    <div id="effect"></div>

    <script>
        // デジタル保育園（2Dメタバース）
        const canvas = document.getElementById("nursery");
        const ctx = canvas.getContext("2d");
        let player = { x: 50, y: 50, jump: 0, angle: 0 };
        const npcs = [
            { x: 500, y: 300, bounce: 0, name: "さくら先生" },
            { x: 200, y: 100, bounce: 0, name: "たかし先生" }
        ];
        let clouds = [{ x: 100, y: 50 },
